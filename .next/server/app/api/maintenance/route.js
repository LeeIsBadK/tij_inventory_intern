"use strict";(()=>{var e={};e.id=986,e.ids=[986],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},2361:e=>{e.exports=require("events")},3685:e=>{e.exports=require("http")},5687:e=>{e.exports=require("https")},1808:e=>{e.exports=require("net")},5477:e=>{e.exports=require("punycode")},2781:e=>{e.exports=require("stream")},4404:e=>{e.exports=require("tls")},7310:e=>{e.exports=require("url")},9796:e=>{e.exports=require("zlib")},9594:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>I,patchFetch:()=>h,requestAsyncStorage:()=>f,routeModule:()=>x,serverHooks:()=>j,staticGenerationAsyncStorage:()=>g});var s={};t.r(s),t.d(s,{DELETE:()=>m,GET:()=>p,POST:()=>l,PUT:()=>d});var n=t(9303),o=t(8716),a=t(3131),i=t(4330);t(166);var c=t(773),u=t(7070);async function p(e){try{let{data:e,error:r}=await c.O.from("maintenance_record").select("id,schedule,inventory_id(id,TIJ_ID,name,model),status,note,ref,created_at");if(r)return console.log("error",r),u.NextResponse.error();return u.NextResponse.json(e)}catch(e){return console.log("error",e),u.NextResponse.error()}}async function l(e){try{let r=await e.json(),{data:t,error:s}=await c.O.from("maintenance_record").insert(r);if(s)return console.log("error",s),u.NextResponse.json({error:s.message},{status:500});return u.NextResponse.json({message:"Added maintenance item successfully"},{status:200})}catch(e){return console.log("error",e),u.NextResponse.json({error:e.message},{status:500})}}async function d(e){try{let r=await e.json();console.log(r);let{data:t,error:s}=await c.O.from("maintenance_record").update(r).eq("id",r.id);if(s)return console.log("error",s),u.NextResponse.json({error:s.message},{status:500});return u.NextResponse.json({message:"Updated maintenance item successfully"},{status:200})}catch(e){return console.log("error",e),u.NextResponse.json({error:e.message},{status:500})}}async function m(e){try{let r=await e.json();console.log(r);let{data:t,error:s}=await c.O.from("maintenance_record").delete().eq("id",r.id);if(s)return console.log("error",s),u.NextResponse.json({error:s.message},{status:500});return u.NextResponse.json({message:"Deleted maintenance info successfully"},{status:200})}catch(e){return console.log("error",e),u.NextResponse.json({error:e.message},{status:500})}}(0,t(618).h)([p,l,d,m]),(0,i.j)("f9e5fdb464114d3d3bd3a510614a872e8092bf9a",p),(0,i.j)("7ea3956a10ba506aa04647b8e4bc48441f7c6c6f",l),(0,i.j)("fae4e615d0a48161c84cc00b25c67656b8ba6206",d),(0,i.j)("75fe4bad7da505498cfc94b59217cac24fadf5dd",m);let x=new n.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/maintenance/route",pathname:"/api/maintenance",filename:"route",bundlePath:"app/api/maintenance/route"},resolvedPagePath:"/Users/leeisbadk/tij_inventory_intern/web service/app/api/maintenance/route.tsx",nextConfigOutput:"",userland:s}),{requestAsyncStorage:f,staticGenerationAsyncStorage:g,serverHooks:j}=x,I="/api/maintenance/route";function h(){return(0,a.patchFetch)({serverHooks:j,staticGenerationAsyncStorage:g})}},773:(e,r,t)=>{t.d(r,{O:()=>s});let s=(0,t(2814).eI)("http://localhost:8000","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJhbm9uIiwKICAgICJpc3MiOiAic3VwYWJhc2UtZGVtbyIsCiAgICAiaWF0IjogMTY0MTc2OTIwMCwKICAgICJleHAiOiAxNzk5NTM1NjAwCn0.dc_X5iR_VP_qT0zsiyj_I_OZ2T9FtRU2BBNWN8Bu4GE")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[948,505,341],()=>t(9594));module.exports=s})();