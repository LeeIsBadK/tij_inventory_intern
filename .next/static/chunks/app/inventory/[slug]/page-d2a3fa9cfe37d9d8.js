(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[682],{9217:function(e,s,a){Promise.resolve().then(a.bind(a,700))},700:function(e,s,a){"use strict";a.r(s);var t=a(7437),r=a(2265),l=a(7138);s.default=function(e){let{params:s}=e;s&&parseInt(s.slug);let[a,c]=(0,r.useState)(null),[i,n]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{fetch("/api/inventory/".concat(s.slug)).then(e=>e.json()).then(e=>{c(e),n(!1)}).catch(e=>{console.error("Error fetching inventory data:",e),n(!1)})},[s.slug]),(0,t.jsxs)("div",{className:"py-10 lg:py-14 px-5",children:[(0,t.jsx)("nav",{"aria-label":"Breadcrumb",children:(0,t.jsxs)("ol",{className:"flex items-center gap-1 text-sm text-gray-600",children:[(0,t.jsx)("li",{children:(0,t.jsxs)(l.default,{href:"/",className:"block transition hover:text-gray-700",children:[(0,t.jsx)("span",{className:"sr-only",children:"Home"}),(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})]})}),(0,t.jsx)("li",{className:"rtl:rotate-180",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd"})})}),(0,t.jsx)("li",{children:(0,t.jsxs)("a",{href:s.slug,className:"block transition hover:text-gray-700",children:["Item ",s.slug]})})]})}),(0,t.jsx)("h1",{children:"Item"}),(0,t.jsx)("p",{children:s.slug}),(0,t.jsxs)("div",{className:"py-5",children:[!i&&a&&(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsx)("table",{className:"min-w-full divide-y-2 divide-gray-200 bg-white text-sm",children:(0,t.jsxs)("tbody",{className:"divide-y divide-gray-200",children:[(0,t.jsxs)("tr",{className:"grid grid-cols-4",children:[(0,t.jsx)("td",{className:"whitespace-nowrap px-4 py-2 font-medium text-gray-900 col-span-1",children:"รหัสครุภัณฑ์:"}),(0,t.jsx)("td",{className:"whitespace-nowrap px-4 py-2 text-gray-700",children:a.TIJ_ID})]}),(0,t.jsxs)("tr",{className:"grid grid-cols-4",children:[(0,t.jsx)("td",{className:"whitespace-nowrap px-4 py-2 font-medium text-gray-900 col-span-1",children:"รายการ:"}),(0,t.jsx)("td",{className:"whitespace-nowrap px-4 py-2 text-gray-700",children:a.name})]}),(0,t.jsxs)("tr",{className:"grid grid-cols-4",children:[(0,t.jsx)("td",{className:"whitespace-nowrap px-4 py-2 font-medium text-gray-900 col-span-1",children:"รุ่น/แบบ:"}),(0,t.jsx)("td",{className:"whitespace-nowrap px-4 py-2 text-gray-700",children:a.model})]}),(0,t.jsxs)("tr",{className:"grid grid-cols-4",children:[(0,t.jsx)("td",{className:"whitespace-nowrap px-4 py-2 font-medium text-gray-900 col-span-1",children:"ขนาด:"}),(0,t.jsx)("td",{className:"whitespace-nowrap px-4 py-2 text-gray-700",children:a.size})]}),(0,t.jsxs)("tr",{className:"grid grid-cols-4",children:[(0,t.jsx)("td",{className:"whitespace-nowrap px-4 py-2 font-medium text-gray-900 col-span-1",children:"สี:"}),(0,t.jsx)("td",{className:"whitespace-nowrap px-4 py-2 text-gray-700",children:a.color})]}),(0,t.jsxs)("tr",{className:"grid grid-cols-4",children:[(0,t.jsx)("td",{className:"whitespace-nowrap px-4 py-2 font-medium text-gray-900 col-span-1",children:"Serial Number:"}),(0,t.jsx)("td",{className:"whitespace-nowrap px-4 py-2 text-gray-700",children:a.sn})]}),(0,t.jsxs)("tr",{className:"grid grid-cols-4",children:[(0,t.jsx)("td",{className:"whitespace-nowrap px-4 py-2 font-medium text-gray-900 col-span-1",children:"วันที่รับเข้า:"}),(0,t.jsx)("td",{className:"whitespace-nowrap px-4 py-2 text-gray-700",children:a.date_added})]}),(0,t.jsxs)("tr",{className:"grid grid-cols-4",children:[(0,t.jsx)("td",{className:"whitespace-nowrap px-4 py-2 font-medium text-gray-900 col-span-1",children:"หมวดหมู่:"}),(0,t.jsx)("td",{className:"whitespace-nowrap px-4 py-2 text-gray-700",children:a.category})]}),(0,t.jsxs)("tr",{className:"grid grid-cols-4",children:[(0,t.jsx)("td",{className:"whitespace-nowrap px-4 py-2 font-medium text-gray-900 col-span-1",children:"สถานะ:"}),(0,t.jsx)("td",{className:"whitespace-nowrap px-4 py-2 text-gray-700",children:a.status})]}),(0,t.jsxs)("tr",{className:"grid grid-cols-4",children:[(0,t.jsx)("td",{className:"whitespace-nowrap px-4 py-2 font-medium text-gray-900",children:"ผู้ครอบครอง:"}),(0,t.jsx)("td",{className:"px-4 py-2 text-gray-700",children:a.owner})]})]})})}),i&&(0,t.jsx)("p",{children:"Loading..."}),(0,t.jsxs)("div",{className:"w-[60%]",children:[(0,t.jsx)("h2",{className:"pt-4",children:"Maintenance Record"}),!i&&a&&(e=>{let s=e.maintenance_record;return(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y-2 divide-gray-200 bg-white text-sm",children:[(0,t.jsx)("thead",{className:"ltr:text-left rtl:text-right",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"whitespace-nowrap px-4 py-2 font-medium text-gray-900",children:"Schedule"}),(0,t.jsx)("th",{className:"whitespace-nowrap px-4 py-2 font-medium text-gray-900",children:"Date"}),(0,t.jsx)("th",{className:"whitespace-nowrap px-4 py-2 font-medium text-gray-900",children:"Status"}),(0,t.jsx)("th",{className:"whitespace-nowrap px-4 py-2 font-medium text-gray-900",children:"Note"}),(0,t.jsx)("th",{className:"whitespace-nowrap px-4 py-2 font-medium text-gray-900",children:"Ref"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:s.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-4 py-2 text-gray-700 break-normal break-words",children:e.schedule}),(0,t.jsx)("td",{className:"px-4 py-2 text-gray-700 break-normal break-words",children:new Date(e.created_at).toLocaleDateString()}),(0,t.jsx)("td",{className:"px-4 py-2 text-gray-700 break-normal break-words",children:e.status}),(0,t.jsx)("td",{className:"px-4 py-2 text-gray-700 break-normal break-words",children:e.note}),(0,t.jsx)("td",{className:"px-4 py-2 break-normal break-words",children:e.ref})]},e.id))})]})})})(a)]})]}),(0,t.jsx)("button",{className:"bg-red-500 hover:bg-red-700 text-white rounded-md py-2 w-20",onClick:()=>void(confirm("Are you sure you want to delete this item?")&&fetch("/api",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s.slug})}).then(e=>{e.ok?window.location.href="/":alert("Delete failed")}).catch(e=>{console.error("Error deleting item:",e),alert("Delete failed")})),children:"Delete"})]})}},7138:function(e,s,a){"use strict";a.d(s,{default:function(){return r.a}});var t=a(231),r=a.n(t)}},function(e){e.O(0,[231,971,23,744],function(){return e(e.s=9217)}),_N_E=e.O()}]);